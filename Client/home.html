<!DOCTYPE html>
<html lang="en">

    <!--
    Bootstrap links:
        for css: https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css

        for js: https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js
        "put css link in head and js in body"
    -->
    
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <head>
        <script>
            //Set all user information in the session storage
            function setInformation(){
                //User Information
                if(sessionStorage.getItem("loggedIn") == null){
                    sessionStorage.setItem("loggedIn",JSON.stringify(false)); //User does not start logged in
                }
                if(sessionStorage.getItem("currentScore") == null){
                    sessionStorage.setItem("currentScore",JSON.stringify(0)); //User's score for this run
                }
                if(sessionStorage.getItem("level1Stage") == null){
                    sessionStorage.setItem("level1Stage",JSON.stringify(0)); //User's stage on smishing level(0 is the tutorial)
                }
                if(sessionStorage.getItem("highScore") == null){
                    sessionStorage.setItem("highScore",JSON.stringify(0)); //User's highest score
                }
                if(sessionStorage.getItem("permissionsLevelStage") == null){
                    sessionStorage.setItem("permissionsLevelStage",JSON.stringify(0)); //User's stage on permissions level(0 is the tutorial)
                }
                if(sessionStorage.getItem("level1Responses") == null){ //User's previous responses on smishing level
                    sessionStorage.setItem("level1Responses",JSON.stringify({}));
                }
                if(sessionStorage.getItem("permissionsLevelResponses") == null){ //User's previous responses on permissions level
                    sessionStorage.setItem("permissionsLevelResponses",JSON.stringify({}));
                }
            }
            //Take the user to their profile if they are logged in
            function viewProfile(){
                var loggedIn = JSON.parse(sessionStorage.getItem("loggedIn"));
                if(loggedIn == false){ //If the player is not logged in tell them and return
                    alert("You must be logged in to view your profile.");
                    return;
                }
                //If they are, take them to their profile
                window.location.href = "profile.html";
            }
        </script>
        
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>

        <link rel="stylesheet" href="../styles.css">

    </head>
    <body>
        <div class="menu">
            <h1>SoCial Engineering Attack SiMulatorS<br>(SCAMS)</h1>
            <button class="selection" style="font-family: 'Tahoma';" onclick="window.location.href = '../Game/menu.html'">Play</button><br>
            <button class="selection" style="font-family: 'Tahoma';" onclick="window.location.href = 'login.html'">Login</button><br>
            <button class="selection" style="font-family: 'Tahoma';" onclick="window.location.href = 'create.html'">Create Account</button><br>
            <button class="selection" style="font-family: 'Tahoma';" onclick="window.location.href = 'scores.html'">View Scoreboard</button><br>
            <button class="selection" style="font-family: 'Tahoma';" onclick="viewProfile()">View Profile</button><br>
            <h4>Â©Copyright Florida Polytechnic University, Dr. Denis Ulybyshev, Matthew Rigg, Megan Ruiz, Robert Grant, Emil Torres, and Katelynn Holt</h4>
        </div>
        <script>
            //Set all neccessary user information upon page load
            setInformation();
            //Because Gooogle Chrome preprocessing messes with session storage upon page load, set all neccessary user information again after 300ms
            setTimeout(function() {
                setInformation();
            }, 300);

            //Before the player goes to another page, make sure all the neccessary user information is set
            window.addEventListener('beforeunload', function() {
                setInformation();
            });
        </script>
    </body>
</html>
